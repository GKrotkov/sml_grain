---
title: "EDA"
author: "Elizabeth Ho"
output: pdf_document
---

```{r}
# Load in the data
train <- read.csv("data/train_data.csv")
```

```{r}
full_model <- lm(Y ~ ., data = train)
summary(full_model)
```

```{r}
correlation_matrix <- cor(train[, -which(names(train) == "Y")])
correlation_matrix
```

```{r}
library(corrplot)
# Circles correlation plot
corrplot(cor(train), method = "circle",
        tl.pos = "n", mar = c(2, 1, 3, 1)) 
```

```{r, fig.width=19, fig.height=9}
# Visualization of correlation matrix
corrplot.mixed(cor(train),
               lower = "number", 
               upper = "circle",
               tl.col = "black")
```
## NOTES
- Only use area, not perimeter, axis length, etc.

```{r}
# Check for multicollinearity
library(car)
vif_values <- vif(full_model)
vif_values
```

# Splitting data into training and validation

```{r}
# Splitting the data into training and validation sets
set.seed(1234)
index <- sample(1:nrow(train), round(0.8 * nrow(train)))
train_set <- train[index, ]
validation_set <- train[-index, ]
```

```{r}
# Use Lasso?
library(glmnet)
x_train <- model.matrix(Y ~ . - 1, data = train_set) # -1 to exclude intercept
y_train <- train_set$Y
lasso_model <- cv.glmnet(x_train, y_train, alpha = 1)
plot(lasso_model)

# Predictions for the validation set
x_validation <- model.matrix(Y ~ . - 1, data = validation_set)
predictions <- predict(lasso_model, s = "lambda.min", newx = x_validation)
```

